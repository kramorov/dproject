<!-- media_library/templates/media_library/media_detail.html -->
<!DOCTYPE html>
<html>
<head>
    <title>{{ object.title }} - –ú–µ–¥–∏–∞–±–∏–±–ª–∏–æ—Ç–µ–∫–∞</title>
    <style>
        .media-container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .media-preview { text-align: center; margin: 20px 0; }
        .media-info { background: #f8f9fa; padding: 15px; border-radius: 5px; }
        .actions { margin: 20px 0; }
        .btn { display: inline-block; padding: 10px 15px; margin: 5px;
               background: #007bff; color: white; text-decoration: none;
               border-radius: 4px; }
    </style>
</head>
<body>
    <div class="media-container">
        <h1>{{ object.title }}</h1>

        {% if object.description %}
            <p>{{ object.description }}</p>
        {% endif %}

        <div class="media-preview">
            {% if object.is_image %}
                <img src="{{ object.media_file.url }}" alt="{{ object.title }}"
                     style="max-width: 100%; max-height: 80vh; border-radius: 8px;">
            {% elif object.is_video %}
                <video controls style="max-width: 100%; max-height: 80vh;">
                    <source src="{{ object.media_file.url }}" type="{{ object.mime_type }}">
                    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                </video>
            {% else %}
                <div style="font-size: 48px; color: #6c757d;">
                    {% if object.is_document %}üìÑ{% else %}üìÅ{% endif %}
                </div>
                <p>–§–∞–π–ª: {{ object.filename }}</p>
            {% endif %}
        </div>

        <div class="actions">
            <a href="{% url 'media_library:download_media' object.pk %}" class="btn">
                üì• –°–∫–∞—á–∞—Ç—å ({{ object.file_size_display }})
            </a>
            {% if object.is_image or object.is_video or object.is_document %}
                <a href="{% url 'media_library:view_media' object.pk %}" class="btn">
                    üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
                </a>
            {% endif %}
        </div>

        <div class="media-info">
            <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ:</h3>
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> {{ object.category.name }} {{ object.category.icon }}</p>
            <p><strong>–¢–∏–ø —Ñ–∞–π–ª–∞:</strong> {{ object.file_extension|upper }} ({{ object.mime_type }})</p>
            <p><strong>–†–∞–∑–º–µ—Ä:</strong> {{ object.file_size_display }}</p>
            <p><strong>–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏:</strong> {{ object.created_at|date:"d.m.Y H:i" }}</p>

            {% if object.tags.all %}
                <p><strong>–¢–µ–≥–∏:</strong>
                    {% for tag in object.tags.all %}
                        <span style="background: #e9ecef; padding: 2px 8px;
                                   border-radius: 12px; font-size: 12px; margin: 2px;">
                            {{ tag.name }}
                        </span>
                    {% endfor %}
                </p>
            {% endif %}

            {% if object.created_by %}
                <p><strong>–ó–∞–≥—Ä—É–∑–∏–ª:</strong> {{ object.created_by.get_full_name|default:object.created_by.username }}</p>
            {% endif %}
        </div>
    </div>
</body>
</html>