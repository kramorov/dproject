<template>
  <button class="app-action-button" @click="$emit('click')">
    <img v-if="buttonData.icon" :src="getIconPath(buttonData.icon)" :alt="buttonData.label" class="icon" />
    <span v-else class="icon-text">{{ buttonData.iconFallback }}</span>
    <span class="label">{{ buttonData.label }}</span>
  </button>
</template>
<!--<AppActionButton icon="custom-icon.svg" label="–ú–æ–π —Ç–µ–∫—Å—Ç" @click="myFunction" />-->
<!--<AppActionButton type="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" @click="saveFunction" />-->
<!--<AppActionButton type="–û—Ç–º–µ–Ω–∞" @click="cancelFunction" />-->

<script>
export default {
  props: {
    icon: String, // –ù–∞–∑–≤–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –∏–ª–∏ null
    label: String, // –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ null
    type: String, // –¢–∏–ø–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û–∫", "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å") –∏–ª–∏ null
  },
  computed: {
    buttonData() {
      if (this.type && this.presetButtons[this.type]) {
        return this.presetButtons[this.type]; // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω —Ç–∏–ø, –±–µ—Ä–µ–º –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
      }
      return {
        icon: this.icon || null,
        iconFallback: this.icon ? "" : "üîò", // –§–æ–ª–±—ç–∫ —Å–∏–º–≤–æ–ª, –µ—Å–ª–∏ –∏–∫–æ–Ω–∫–∏ –Ω–µ—Ç
        label: this.label || "",
      };
    },
  },
  data() {
    return {
      presetButtons: {
        "–û–∫": { icon: "../assets/icons/ok.png", label: "–û–∫" },
        "–û—Ç–º–µ–Ω–∞": { icon: "../assets/icons/cancel.png", label: "–û—Ç–º–µ–Ω–∞" },
        "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å": { icon: "../assets/icons/save.png", label: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" },
        "–£–¥–∞–ª–∏—Ç—å": { icon: "../assets/icons/x.png", label: "–£–¥–∞–ª–∏—Ç—å" },
        "–ò–∑–º–µ–Ω–∏—Ç—å": { icon: "../assets/icons/edit.svg", label: "–ò–∑–º–µ–Ω–∏—Ç—å" },
        "–î–æ–±–∞–≤–∏—Ç—å": { icon: "../assets/icons/plus.png", label: "–î–æ–±–∞–≤–∏—Ç—å" },
        "–î–∞": { icon: "../assets/icons/checked.png", label: "–î–∞" },
        "–ù–µ—Ç": { icon: "../assets/icons/x.png", label: "–ù–µ—Ç" },
      },
    };
  },
  methods: {
    getIconPath(icon) {
      return `/icons/${icon}`; // –ü—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ /public/icons/
    },
  },
};
</script>

<style scoped>
.app-action-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border: none;
  background-color: #007bff;
  color: white;
  cursor: pointer;
  border-radius: 5px;
  transition: 0.3s;
}

.app-action-button:hover {
  background-color: #0056b3;
}

.icon {
  width: 20px;
  height: 20px;
}

.icon-text {
  font-size: 18px;
}

.label {
  font-size: 14px;
}
</style>
